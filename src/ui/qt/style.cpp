///*****************************************************************************
/// @date Feb 2021
/// @copyright GPL-3.0-or-later
/// @author Thomas Lepoix <thomas.lepoix@protonmail.ch>
///*****************************************************************************

#include <algorithm>

#include "style.hpp"

namespace ui::qt {

//******************************************************************************
std::vector<Style> const Style::available_styles {
	{
		.name = "Main",
		.processing = {
			.background = QColor(57, 57, 57),
			.node_background_regular             = QColor(27, 27, 27),
//			.node_background_highlighted         = node_background_regular,
			.node_background_selected            = Qt::white,
//			.node_background_regular_hovered     = node_background_regular.lighter(),
//			.node_background_highlighted_hovered = node_background_highlighted.lighter(),
			.node_background_selected_hovered    = QColor(Qt::white).darker(150),
			.node_title_background_regular             = QColor(33, 33, 33),
			.node_title_background_highlighted         = QColor(222, 222, 222),
			.node_title_background_selected            = QColor(222, 222, 222),
			.node_title_background_regular_hovered     = QColor(33, 33, 33).lighter(150),
			.node_title_background_highlighted_hovered = QColor(222, 222, 222).darker(150),
			.node_title_background_selected_hovered    = QColor(222, 222, 222).darker(150),
			.node_title_text_regular             = Qt::white,
			.node_title_text_highlighted         = Qt::black,
			.node_title_text_selected            = Qt::black,
//			.node_title_text_regular_hovered     = node_title_text_regular,
//			.node_title_text_highlighted_hovered = node_title_text_highlighted,
//			.node_title_text_selected_hovered    = node_title_text_selected,
//			.node_radius = 10,
//			.container_nested_zone_regular             = background,
//			.container_nested_zone_highlighted         = container_nested_zone_regular,
//			.container_nested_zone_selected            = container_nested_zone_regular,
//			.container_nested_zone_regular_hovered     = container_nested_zone_regular,
//			.container_nested_zone_highlighted_hovered = container_nested_zone_highlighted,
//			.container_nested_zone_selected_hovered    = container_nested_zone_selected,
//			.container_nested_zone_opacity = 0.5,
//			.wire_regular             = Qt::green,
//			.wire_highlighted         = wire_regular,
//			.wire_selected            = wire_regular,
//			.wire_regular_hovered     = wire_regular.lighter(),
//			.wire_highlighted_hovered = wire_highlighted.lighter(),
//			.wire_selected_hovered    = wire_selected.lighter(),
//			.wire_width_regular             = 2,
//			.wire_width_highlighted         = wire_width_regular,
//			.wire_width_selected            = wire_width_regular,
//			.wire_width_regular_hovered     = wire_width_regular * 2,
//			.wire_width_highlighted_hovered = wire_width_highlighted * 2,
//			.wire_width_selected_hovered    = wire_width_selected * 2,
			.text_normal_regular             = Qt::white,
//			.text_normal_highlighted         = text_normal_regular,
			.text_normal_selected            = Qt::black,
//			.text_normal_regular_hovered     = text_normal_regular,
//			.text_normal_highlighted_hovered = text_normal_highlighted,
//			.text_normal_selected_hovered    = text_normal_selected,
//			.text_enabled_regular             = Qt::darkGreen,
//			.text_enabled_highlighted         = text_enabled_regular,
//			.text_enabled_selected            = text_enabled_regular,
//			.text_enabled_regular_hovered     = text_enabled_regular,
//			.text_enabled_highlighted_hovered = text_enabled_highlighted,
//			.text_enabled_selected_hovered    = text_enabled_selected,
//			.text_enabled_for_sure_regular             = Qt::green,
//			.text_enabled_for_sure_highlighted         = text_enabled_for_sure_regular,
//			.text_enabled_for_sure_selected            = text_enabled_for_sure_regular,
//			.text_enabled_for_sure_regular_hovered     = text_enabled_for_sure_regular,
//			.text_enabled_for_sure_highlighted_hovered = text_enabled_for_sure_highlighted,
//			.text_enabled_for_sure_selected_hovered    = text_enabled_for_sure_selected,
//			.text_disabled_regular             = Qt::darkRed,
//			.text_disabled_highlighted         = text_disabled_regular,
//			.text_disabled_selected            = text_disabled_regular,
//			.text_disabled_regular_hovered     = text_disabled_regular,
//			.text_disabled_highlighted_hovered = text_disabled_highlighted,
//			.text_disabled_selected_hovered    = text_disabled_selected,
			.port_text_normal_regular             = Qt::white,
//			.port_text_normal_highlighted         = port_text_regular,
			.port_text_normal_selected            = Qt::black,
//			.port_text_normal_regular_hovered     = port_text_regular,
//			.port_text_normal_highlighted_hovered = port_text_highlighted,
//			.port_text_normal_selected_hovered    = port_text_selected,
//			.port_text_enabled_regular             = text_enabled_regular,
//			.port_text_enabled_highlighted         = port_text_enabled_regular,
//			.port_text_enabled_selected            = port_text_enabled_regular,
//			.port_text_enabled_regular_hovered     = port_text_enabled_regular,
//			.port_text_enabled_highlighted_hovered = port_text_enabled_highlighted,
//			.port_text_enabled_selected_hovered    = port_text_enabled_selected,
//			.port_text_disabled_regular             = text_disabled_regular,
//			.port_text_disabled_highlighted         = port_text_disabled_regular,
//			.port_text_disabled_selected            = port_text_disabled_regular,
//			.port_text_disabled_regular_hovered     = port_text_disabled_regular,
//			.port_text_disabled_highlighted_hovered = port_text_disabled_highlighted,
//			.port_text_disabled_selected_hovered    = port_text_disabled_selected,
//			.port_contour_regular             = Qt::black,
//			.port_contour_highlighted         = port_contour_regular,
//			.port_contour_selected            = port_contour_regular,
//			.port_contour_regular_hovered     = port_contour_regular,
//			.port_contour_highlighted_hovered = port_contour_highlighted,
//			.port_contour_selected_hovered    = port_contour_selected,
//			.port_fill_regular             = QColor(255, 119, 0),
//			.port_fill_highlighted         = port_fill_regular,
//			.port_fill_selected            = port_fill_regular,
//			.port_fill_regular_hovered     = port_fill_regular,
//			.port_fill_highlighted_hovered = port_fill_highlighted,
//			.port_fill_selected_hovered    = port_fill_selected,
//			.port_radius = 5,
		},
		.structure = {
			.background = Qt::white,
//			.edge_width_regular = 0,
//			.edge_width_selected = edge_width_regular,
			.edge_width_regular_hovered = 0.5,
			.edge_width_selected_hovered = 0.5,
			.edge_regular = Qt::transparent,
			.edge_selected = Qt::red,
			.edge_regular_hovered = Qt::red,
//			.edge_selected_hovered = edge_selected,
//			.polygon_shape_contour_regular = Qt::black,
//			.polygon_shape_contour_selected = polygon_shape_contour_regular,
//			.polygon_shape_contour_regular_hovered = polygon_shape_contour_regular,
//			.polygon_shape_contour_selected_hovered = polygon_shape_contour_selected,
			.polygon_shape_fill_regular = Qt::darkCyan,
			.polygon_shape_fill_selected = Qt::red,
//			.polygon_shape_fill_regular_hovered = polygon_shape_fill_regular,
//			.polygon_shape_fill_selected_hovered = polygon_shape_fill_selected,
//			.polygon_port_contour_regular = Qt::black,
//			.polygon_port_contour_selected = polygon_port_contour_regular,
//			.polygon_port_contour_regular_hovered = polygon_port_contour_regular,
//			.polygon_port_contour_selected_hovered = polygon_port_contour_selected,
			.polygon_port_fill_regular = Qt::yellow,
			.polygon_port_fill_selected = Qt::red,
//			.polygon_port_fill_regular_hovered = polygon_port_fill_regular,
//			.polygon_port_fill_selected_hovered = polygon_port_fill_selected,
//			.polygon_ground_contour_regular = Qt::black,
//			.polygon_ground_contour_selected = polygon_ground_contour_regular,
//			.polygon_ground_contour_regular_hovered = polygon_ground_contour_regular,
//			.polygon_ground_contour_selected_hovered = polygon_ground_contour_selected,
			.polygon_ground_fill_regular = QColor(99, 78, 45),
			.polygon_ground_fill_selected = Qt::red,
//			.polygon_ground_fill_regular_hovered = polygon_ground_fill_regular,
//			.polygon_ground_fill_selected_hovered = polygon_ground_fill_selected,
//			.polygon_substrate_contour_regular = Qt::black,
//			.polygon_substrate_contour_selected = polygon_substrate_contour_regular,
//			.polygon_substrate_contour_regular_hovered = polygon_substrate_contour_regular,
//			.polygon_substrate_contour_selected_hovered = polygon_substrate_contour_selected,
			.polygon_substrate_fill_regular = Qt::darkGreen,
			.polygon_substrate_fill_selected = Qt::red,
//			.polygon_substrate_fill_regular_hovered = polygon_substrate_fill_regular,
//			.polygon_substrate_fill_selected_hovered = polygon_substrate_fill_selected,
//			.meshline_regular = Qt::black,
//			.meshline_selected = Qt::red,
//			.meshline_regular_hovered = meshline_regular,
//			.meshline_selected_hovered = meshline_selected,
//			.meshline_policy_enabled_main_line_regular = Qt::transparent,
//			.meshline_policy_enabled_main_line_selected = Qt::green,
//			.meshline_policy_enabled_main_line_regular_hovered = meshline_policy_enabled_main_line_regular,
//			.meshline_policy_enabled_main_line_selected_hovered = meshline_policy_enabled_main_line_selected,
//			.meshline_policy_enabled_policy_lines_regular = Qt::transparent,
//			.meshline_policy_enabled_policy_lines_selected = Qt::green,
//			.meshline_policy_enabled_policy_lines_regular_hovered = meshline_policy_enabled_policy_lines_regular,
//			.meshline_policy_enabled_policy_lines_selected_hovered = meshline_policy_enabled_policy_lines_selected,
//			.meshline_policy_disabled_main_line_regular = Qt::transparent,
//			.meshline_policy_disabled_main_line_selected = Qt::red,
//			.meshline_policy_disabled_main_line_regular_hovered = meshline_policy_disabled_main_line_regular,
//			.meshline_policy_disabled_main_line_selected_hovered = meshline_policy_disabled_main_line_selected,
//			.meshline_policy_disabled_policy_lines_regular = Qt::transparent,
//			.meshline_policy_disabled_policy_lines_selected = Qt::red,
//			.meshline_policy_disabled_policy_lines_regular_hovered = meshline_policy_disabled_policy_lines_regular,
//			.meshline_policy_disabled_policy_lines_selected_hovered = meshline_policy_disabled_policy_lines_selected,
//			.interval_regular = Qt::transparent,
//			.interval_selected = QColor(0, 255, 0, 100),
//			.interval_regular_hovered = interval_regular,
//			.interval_selected_hovered = interval_selected,
//			.conflict_ce_regular = Qt::transparent,
//			.conflict_ce_selected = Qt::red,
//			.conflict_ce_regular_hovered = conflict_ce_regular,
//			.conflict_ce_selected_hovered = conflict_ce_selected,
//			.conflict_tcmlp_solution_line_regular = Qt::transparent,
//			.conflict_tcmlp_solution_line_selected = Qt::green,
//			.conflict_tcmlp_solution_line_regular_hovered = conflict_tcmlp_solution_line_regular,
//			.conflict_tcmlp_solution_line_selected_hovered = conflict_tcmlp_solution_line_selected,
//			.conflict_tcmlp_origin_lines_regular = Qt::transparent,
//			.conflict_tcmlp_origin_lines_selected = Qt::red,
//			.conflict_tcmlp_origin_lines_regular_hovered = conflict_tcmlp_origin_lines_regular,
//			.conflict_tcmlp_origin_lines_selected_hovered = conflict_tcmlp_origin_lines_selected,
		}
	},
	{
		.name = "2",
		.processing = {
			.background = QColor(57, 57, 57),
			.node_background_regular             = Qt::darkYellow,
//			.node_background_highlighted         = node_background_regular,
			.node_background_selected            = Qt::white,
//			.node_background_regular_hovered     = node_background_regular.lighter(),
//			.node_background_highlighted_hovered = node_background_highlighted.lighter(),
			.node_background_selected_hovered    = QColor(Qt::white).darker(150),
			.node_title_background_regular             = QColor(33, 33, 33),
			.node_title_background_highlighted         = QColor(222, 222, 222),
			.node_title_background_selected            = QColor(222, 222, 222),
			.node_title_background_regular_hovered     = QColor(33, 33, 33).lighter(150),
			.node_title_background_highlighted_hovered = QColor(222, 222, 222).darker(150),
			.node_title_background_selected_hovered    = QColor(222, 222, 222).darker(150),
			.node_title_text_regular             = Qt::white,
			.node_title_text_highlighted         = Qt::black,
			.node_title_text_selected            = Qt::black,
//			.node_title_text_regular_hovered     = node_title_text_regular,
//			.node_title_text_highlighted_hovered = node_title_text_highlighted,
//			.node_title_text_selected_hovered    = node_title_text_selected,
//			.node_radius = 10,
//			.container_nested_zone_regular             = background,
//			.container_nested_zone_highlighted         = container_nested_zone_regular,
//			.container_nested_zone_selected            = container_nested_zone_regular,
//			.container_nested_zone_regular_hovered     = container_nested_zone_regular,
//			.container_nested_zone_highlighted_hovered = container_nested_zone_highlighted,
//			.container_nested_zone_selected_hovered    = container_nested_zone_selected,
//			.container_nested_zone_opacity = 0.5,
//			.wire_regular             = Qt::green,
			.wire_highlighted         = QColor(Qt::green).lighter(),
//			.wire_selected            = wire_regular,
//			.wire_regular_hovered     = wire_regular.lighter(),
//			.wire_highlighted_hovered = wire_highlighted.lighter(),
//			.wire_selected_hovered    = wire_selected.lighter(),
//			.wire_width_regular             = 2,
			.wire_width_highlighted         = 4,
//			.wire_width_selected            = wire_width_regular,
//			.wire_width_regular_hovered     = wire_width_regular * 2,
//			.wire_width_highlighted_hovered = wire_width_highlighted * 2,
//			.wire_width_selected_hovered    = wire_width_selected * 2,
			.text_normal_regular             = Qt::white,
			.text_normal_highlighted         = Qt::darkMagenta,
			.text_normal_selected            = Qt::black,
//			.text_normal_regular_hovered     = text_normal_regular,
//			.text_normal_highlighted_hovered = text_normal_highlighted,
//			.text_normal_selected_hovered    = text_normal_selected,
//			.text_enabled_regular             = Qt::darkGreen,
//			.text_enabled_highlighted         = text_enabled_regular,
//			.text_enabled_selected            = text_enabled_regular,
//			.text_enabled_regular_hovered     = text_enabled_regular,
//			.text_enabled_highlighted_hovered = text_enabled_highlighted,
//			.text_enabled_selected_hovered    = text_enabled_selected,
//			.text_enabled_for_sure_regular             = Qt::green,
//			.text_enabled_for_sure_highlighted         = text_enabled_for_sure_regular,
//			.text_enabled_for_sure_selected            = text_enabled_for_sure_regular,
//			.text_enabled_for_sure_regular_hovered     = text_enabled_for_sure_regular,
//			.text_enabled_for_sure_highlighted_hovered = text_enabled_for_sure_highlighted,
//			.text_enabled_for_sure_selected_hovered    = text_enabled_for_sure_selected,
//			.text_disabled_regular             = Qt::darkRed,
//			.text_disabled_highlighted         = text_disabled_regular,
//			.text_disabled_selected            = text_disabled_regular,
//			.text_disabled_regular_hovered     = text_disabled_regular,
//			.text_disabled_highlighted_hovered = text_disabled_highlighted,
//			.text_disabled_selected_hovered    = text_disabled_selected,
			.port_text_normal_regular             = Qt::white,
			.port_text_normal_highlighted         = Qt::darkMagenta,
			.port_text_normal_selected            = Qt::black,
//			.port_text_normal_regular_hovered     = port_text_regular,
//			.port_text_normal_highlighted_hovered = port_text_highlighted,
//			.port_text_normal_selected_hovered    = port_text_selected,
//			.port_text_enabled_regular             = text_enabled_regular,
//			.port_text_enabled_highlighted         = port_text_enabled_regular,
//			.port_text_enabled_selected            = port_text_enabled_regular,
//			.port_text_enabled_regular_hovered     = port_text_enabled_regular,
//			.port_text_enabled_highlighted_hovered = port_text_enabled_highlighted,
//			.port_text_enabled_selected_hovered    = port_text_enabled_selected,
//			.port_text_disabled_regular             = text_disabled_regular,
//			.port_text_disabled_highlighted         = port_text_disabled_regular,
//			.port_text_disabled_selected            = port_text_disabled_regular,
//			.port_text_disabled_regular_hovered     = port_text_disabled_regular,
//			.port_text_disabled_highlighted_hovered = port_text_disabled_highlighted,
//			.port_text_disabled_selected_hovered    = port_text_disabled_selected,
//			.port_contour_regular             = Qt::black,
//			.port_contour_highlighted         = port_contour_regular,
//			.port_contour_selected            = port_contour_regular,
//			.port_contour_regular_hovered     = port_contour_regular,
//			.port_contour_highlighted_hovered = port_contour_highlighted,
//			.port_contour_selected_hovered    = port_contour_selected,
//			.port_fill_regular             = QColor(255, 119, 0),
//			.port_fill_highlighted         = port_fill_regular,
//			.port_fill_selected            = port_fill_regular,
//			.port_fill_regular_hovered     = port_fill_regular,
//			.port_fill_highlighted_hovered = port_fill_highlighted,
//			.port_fill_selected_hovered    = port_fill_selected,
//			.port_radius = 5,
		},
		.structure = {
			.background = Qt::magenta,
//			.edge_width_regular = 0,
//			.edge_width_selected = edge_width_regular,
			.edge_width_regular_hovered = 0.5,
			.edge_width_selected_hovered = 0.5,
			.edge_regular = Qt::transparent,
			.edge_selected = Qt::red,
			.edge_regular_hovered = Qt::red,
//			.edge_selected_hovered = edge_selected,
//			.polygon_shape_contour_regular = Qt::black,
//			.polygon_shape_contour_selected = polygon_shape_contour_regular,
//			.polygon_shape_contour_regular_hovered = polygon_shape_contour_regular,
//			.polygon_shape_contour_selected_hovered = polygon_shape_contour_selected,
			.polygon_shape_fill_regular = Qt::darkYellow,
			.polygon_shape_fill_selected = Qt::red,
//			.polygon_shape_fill_regular_hovered = polygon_shape_fill_regular,
//			.polygon_shape_fill_selected_hovered = polygon_shape_fill_selected,
//			.polygon_port_contour_regular = Qt::black,
//			.polygon_port_contour_selected = polygon_port_contour_regular,
//			.polygon_port_contour_regular_hovered = polygon_port_contour_regular,
//			.polygon_port_contour_selected_hovered = polygon_port_contour_selected,
			.polygon_port_fill_regular = Qt::yellow,
			.polygon_port_fill_selected = Qt::red,
//			.polygon_port_fill_regular_hovered = polygon_port_fill_regular,
//			.polygon_port_fill_selected_hovered = polygon_port_fill_selected,
//			.polygon_ground_contour_regular = Qt::black,
//			.polygon_ground_contour_selected = polygon_ground_contour_regular,
//			.polygon_ground_contour_regular_hovered = polygon_ground_contour_regular,
//			.polygon_ground_contour_selected_hovered = polygon_ground_contour_selected,
			.polygon_ground_fill_regular = QColor(99, 78, 45),
			.polygon_ground_fill_selected = Qt::red,
//			.polygon_ground_fill_regular_hovered = polygon_ground_fill_regular,
//			.polygon_ground_fill_selected_hovered = polygon_ground_fill_selected,
//			.polygon_substrate_contour_regular = Qt::black,
//			.polygon_substrate_contour_selected = polygon_substrate_contour_regular,
//			.polygon_substrate_contour_regular_hovered = polygon_substrate_contour_regular,
//			.polygon_substrate_contour_selected_hovered = polygon_substrate_contour_selected,
			.polygon_substrate_fill_regular = Qt::darkGreen,
			.polygon_substrate_fill_selected = Qt::red,
//			.polygon_substrate_fill_regular_hovered = polygon_substrate_fill_regular,
//			.polygon_substrate_fill_selected_hovered = polygon_substrate_fill_selected,
//			.meshline_regular = Qt::black,
//			.meshline_selected = Qt::red,
//			.meshline_regular_hovered = meshline_regular,
//			.meshline_selected_hovered = meshline_selected,
//			.meshline_policy_enabled_main_line_regular = Qt::transparent,
//			.meshline_policy_enabled_main_line_selected = Qt::green,
//			.meshline_policy_enabled_main_line_regular_hovered = meshline_policy_enabled_main_line_regular,
//			.meshline_policy_enabled_main_line_selected_hovered = meshline_policy_enabled_main_line_selected,
//			.meshline_policy_enabled_policy_lines_regular = Qt::transparent,
//			.meshline_policy_enabled_policy_lines_selected = Qt::green,
//			.meshline_policy_enabled_policy_lines_regular_hovered = meshline_policy_enabled_policy_lines_regular,
//			.meshline_policy_enabled_policy_lines_selected_hovered = meshline_policy_enabled_policy_lines_selected,
//			.meshline_policy_disabled_main_line_regular = Qt::transparent,
//			.meshline_policy_disabled_main_line_selected = Qt::red,
//			.meshline_policy_disabled_main_line_regular_hovered = meshline_policy_disabled_main_line_regular,
//			.meshline_policy_disabled_main_line_selected_hovered = meshline_policy_disabled_main_line_selected,
//			.meshline_policy_disabled_policy_lines_regular = Qt::transparent,
//			.meshline_policy_disabled_policy_lines_selected = Qt::red,
//			.meshline_policy_disabled_policy_lines_regular_hovered = meshline_policy_disabled_policy_lines_regular,
//			.meshline_policy_disabled_policy_lines_selected_hovered = meshline_policy_disabled_policy_lines_selected,
//			.interval_regular = Qt::transparent,
//			.interval_selected = QColor(0, 255, 0, 100),
//			.interval_regular_hovered = interval_regular,
//			.interval_selected_hovered = interval_selected,
//			.conflict_ce_regular = Qt::transparent,
//			.conflict_ce_selected = Qt::red,
//			.conflict_ce_regular_hovered = conflict_ce_regular,
//			.conflict_ce_selected_hovered = conflict_ce_selected,
//			.conflict_tcmlp_solution_line_regular = Qt::transparent,
//			.conflict_tcmlp_solution_line_selected = Qt::green,
//			.conflict_tcmlp_solution_line_regular_hovered = conflict_tcmlp_solution_line_regular,
//			.conflict_tcmlp_solution_line_selected_hovered = conflict_tcmlp_solution_line_selected,
//			.conflict_tcmlp_origin_lines_regular = Qt::transparent,
//			.conflict_tcmlp_origin_lines_selected = Qt::red,
//			.conflict_tcmlp_origin_lines_regular_hovered = conflict_tcmlp_origin_lines_regular,
//			.conflict_tcmlp_origin_lines_selected_hovered = conflict_tcmlp_origin_lines_selected,
		}
	}
};

//******************************************************************************
std::optional<Style> Style::find_style(QString const& name) {
	auto const it = std::ranges::find_if(available_styles,
		[&](Style const& style) {
			return style.name == name;
		});
	if(it != available_styles.end())
		return *it;
	else
		return std::nullopt;
}

} // namespace ui::qt
